# Feature Specification: Aircraft System

**Feature Branch**: `002-aircraft-system`
**Created**: 2025-01-14
**Status**: Draft
**Input**: 비행기 스폰과 이동을 관리하는 항공기 시스템

## User Scenarios & Testing *(mandatory)*

### User Story 1 - 비행기 등장 (Priority: P1)

게임이 시작되면 화면 가장자리에서 비행기가 자연스럽게 등장한다. 플레이어는 새로운 비행기가 어디서 나타나는지 쉽게 인지할 수 있다.

**Why this priority**: 비행기 없이는 게임 자체가 성립하지 않음. 가장 기본적인 게임 요소.

**Independent Test**: 게임 시작 후 일정 시간 내에 비행기가 화면에 나타나는지 확인

**Acceptance Scenarios**:

1. **Given** 게임이 플레이 상태일 때, **When** 일정 시간이 지나면, **Then** 화면 가장자리에서 새로운 비행기가 등장한다
2. **Given** 비행기가 등장할 때, **When** 화면에 나타나면, **Then** 플레이어가 인지할 수 있는 시각적 피드백이 있다
3. **Given** 게임 난이도가 올라갈 때, **When** 시간이 지나면, **Then** 비행기 등장 빈도가 증가한다

---

### User Story 2 - 비행기 종류별 특성 (Priority: P2)

플레이어는 소형기, 대형기, 헬기 등 다양한 종류의 비행기를 만나게 되며, 각각 다른 속도와 크기를 가진다.

**Why this priority**: 게임의 전략적 깊이와 다양성 제공

**Independent Test**: 각 비행기 종류가 명시된 특성(속도, 크기)대로 동작하는지 확인

**Acceptance Scenarios**:

1. **Given** 소형기가 화면에 있을 때, **When** 이동할 때, **Then** 대형기보다 빠르게 움직인다
2. **Given** 대형기가 화면에 있을 때, **When** 표시될 때, **Then** 소형기보다 큰 크기로 보인다
3. **Given** 헬기가 화면에 있을 때, **When** 착륙할 때, **Then** 일반 활주로가 아닌 헬기패드에 착륙한다

---

### User Story 3 - 경로 따라 이동 (Priority: P3)

플레이어가 그린 경로를 따라 비행기가 부드럽게 이동하며, 경로의 끝(활주로)에 도달하면 착륙한다.

**Why this priority**: 게임의 핵심 메커니즘인 경로 추적 기능

**Independent Test**: 비행기가 주어진 경로를 정확히 따라가는지 확인

**Acceptance Scenarios**:

1. **Given** 비행기에 경로가 설정되었을 때, **When** 이동할 때, **Then** 경로를 따라 부드럽게 이동한다
2. **Given** 비행기가 경로의 끝에 도달했을 때, **When** 활주로 위치라면, **Then** 착륙 애니메이션이 재생되고 비행기가 사라진다
3. **Given** 경로가 급격히 꺾일 때, **When** 비행기가 해당 구간을 지날 때, **Then** 자연스러운 곡선으로 이동한다

---

### Edge Cases

- 동시에 최대 몇 대의 비행기가 화면에 있을 수 있는가? (최대 50대로 제한)
- 비행기가 경로 없이 화면 끝에 도달하면 어떻게 되는가?
- 비행기끼리 같은 스폰 지점에서 동시에 생성되면 어떻게 처리하는가?
- 활주로에 다른 비행기가 착륙 중일 때 새 비행기가 도착하면 어떻게 되는가?

## Requirements *(mandatory)*

### Functional Requirements

- **FR-001**: 시스템은 화면의 상/하/좌/우 가장자리에서 비행기를 생성해야 한다
- **FR-002**: 시스템은 최소 3가지 종류의 비행기(소형기, 대형기, 헬기)를 지원해야 한다
- **FR-003**: 각 비행기 종류는 고유한 속도와 크기 특성을 가져야 한다
- **FR-004**: 비행기는 설정된 경로를 따라 부드럽게 이동해야 한다
- **FR-005**: 비행기가 활주로에 도달하면 착륙 처리되어야 한다
- **FR-006**: 경로가 없는 비행기는 직선으로 계속 이동해야 한다
- **FR-007**: 비행기 생성 빈도는 게임 진행에 따라 조절 가능해야 한다
- **FR-008**: 비행기는 재사용 풀에서 관리되어 성능을 최적화해야 한다

### Key Entities

- **Aircraft**: 비행기의 기본 단위 (위치, 속도, 방향, 종류, 상태)
- **AircraftType**: 비행기 종류 정의 (SMALL, LARGE, HELICOPTER)
- **AircraftConfig**: 종류별 설정 (기본 속도, 크기, 점수 값)
- **Spawner**: 비행기 생성 관리자 (스폰 위치, 빈도, 다음 스폰 시간)
- **FlightPath**: 비행기가 따라갈 경로 (포인트 목록, 현재 진행도)

## Success Criteria *(mandatory)*

### Measurable Outcomes

- **SC-001**: 비행기가 경로를 따라 이동할 때 눈에 보이는 떨림이나 끊김이 없다
- **SC-002**: 20대의 비행기가 동시에 움직일 때도 게임 성능이 저하되지 않는다
- **SC-003**: 각 비행기 종류의 속도 차이가 플레이어에게 명확히 구분된다
- **SC-004**: 비행기 스폰에서 착륙까지의 전체 흐름이 3초 이내에 완료될 수 있다 (최단 경로 기준)
- **SC-005**: 화면에 비행기가 50대 있어도 메모리 사용량이 안정적이다

## Assumptions

- 비행기 종류별 속도 비율: 소형기 1.5x, 대형기 0.7x, 헬기 1.0x (기준 속도 대비)
- 비행기 종류별 크기 비율: 소형기 1.0x, 대형기 2.0x, 헬기 1.2x
- 스폰 빈도는 난이도에 따라 3초(쉬움) ~ 1초(어려움) 간격
- 헬기는 헬기패드에만, 비행기는 일반 활주로에만 착륙 가능
